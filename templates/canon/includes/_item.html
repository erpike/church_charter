{% from "canon/includes/_edit_controls.html" import edit_controls %}

{% macro canon_item(item, is_authenticated) %}
<div class="card mb-2" data-id="{{ item.id }}">
    <div class="card-body py-2">
        <div class="d-flex justify-content-between align-items-start">
            <div>
                <p class="card-text mb-0">
                    {% if is_authenticated %}
                    <span class="drag-handle edit-mode-only" style="cursor: move; margin-right: 10px; display: none;">☰</span>
                    {% endif %}
                    {% if item.type == 'hirmos' %}
                        <strong>Ирмос:</strong>
                    {% elif item.type == 'refrain' %}
                        <strong>Припев:</strong>
                    {% endif %}
                    <span>{{ item.text }}</span>
                </p>
            </div>
            {% if is_authenticated %}
                {{ edit_controls('елемент', item.id, url_for('canon.edit_item', item_id=item.id), url_for('canon.delete_item', item_id=item.id)) }}
            {% endif %}
        </div>
    </div>
</div>
{% endmacro %} 